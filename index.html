<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description"
        content="Generate custom quotes for your Rainmeter skin with fonts, colors, and alignments.">
    <meta name="author" content="ThatSimPilot">
    <title>Rainmeter Quote Skin Generator - ThatSimPilot</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-6 p-3">
                <!-- Column 1 -->
                <h1 class="display-4">Edit Quote</h1>
                <form>
                    <div class="mb-3">
                        <label for="quote" class="form-label">Quote:</label>
                        <textarea rows="3" class="form-control" id="quote" name="quote"
                            style="resize: both; max-width: 100%; min-width: 100%;"></textarea>
                        <div class="input-group">
                            <span class="input-group-text" id="quoteAlignment">Quote Alignment</span>
                            <select class="form-control" id="quoteAlignmentSelect" name="quoteAlignmentSelect">
                                <option value="left" selected>Left</option>
                                <option value="center">Center</option>
                                <option value="right">Right</option>
                                <option value="justify">Justify</option>
                            </select>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="byLine" class="form-label">By-Line:</label>
                        <input type="text" class="form-control" id="byLine" name="byLine">
                        <div class="input-group">
                            <span class="input-group-text" id="byLineAlignment">By-Line Alignment</span>
                            <select class="form-control" id="byLineAlignmentSelect" name="byLineAlignmentSelect">
                                <option value="left" selected>Left</option>
                                <option value="center">Center</option>
                                <option value="right">Right</option>
                            </select>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="font" class="form-label">Font:</label>
                        <div class="input-group">
                            <select class="form-control" id="fontSource" name="fontSource" disabled>
                                <option value="system">Windows Fonts</option>
                                <option value="google" disabled>Google Fonts</option>
                            </select>
                            <select class="form-control" id="fontName" name="fontName">
                                <optgroup label="Sans-serif"></optgroup>
                                <option value="Segoe UI">Segoe UI</option>
                                <option value="Segoe UI Semibold">Segoe UI Semibold</option>
                                <option value="Calibri">Calibri</option>
                                <option value="Verdana">Verdana</option>
                                <option value="Arial">Arial</option>
                                </optgroup>

                                <optgroup label="Serif">
                                    <option value="Georgia">Georgia</option>
                                    <option value="Palatino Linotype">Palatino Linotype</option>
                                    <option value="Times New Roman">Times New Roman</option>
                                </optgroup>

                                <optgroup label="Cursive">
                                    <option value="Segoe Script" selected>Segoe Script (Default)</option>
                                    <option value="Segoe Print">Segoe Print</option>
                                    <option value="Lucida Handwriting">Lucida Handwriting</option>
                                </optgroup>

                                <optgroup label="Monospace">
                                    <option value="Consolas">Consolas</option>
                                </optgroup>

                                <optgroup label="Custom">
                                    <option value="">Custom font nameâ€¦</option>
                                </optgroup>
                            </select>
                        </div>
                        <div id="fontHelp" class="form-text">Fonts must be installed on your device</div>
                    </div>
                    <div class="mb-3">
                        <label for="fontColour" class="form-label">Font Colour:</label>
                        <div class="input-group">
                            <span class="input-group-text" id="colourHex">Hex: #ffffff</span>
                            <input type="color" class="form-control form-control-color" id="fontColour"
                                name="fontColour" value="#ffffff" title="Choose your color">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="maxWidth" class="form-label">Max Characters per Line: <span
                                id="maxWidthValue">75</span></label>
                        <input type="range" class="form-range" id="maxWidth" name="maxWidth" value="75" min="25"
                            max="150" step="5">
                        <div class="form-text">Adjusts the estimated maximum characters per line for text wrapping in
                            the preview.</div>
                    </div>
                    <button type="submit" class="btn btn-primary" id="submitQuoteBtn">Add to Package</button>
                </form>
            </div>
            <div class="col-6 p-3">
                <!-- PREVIEW Content Here -->
                <h1 class="display-4">Preview</h1>
                <div class="mb-3 form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="previewDarkMode" checked>
                    <label class="form-check-label" for="previewDarkMode">Dark preview</label>
                </div>
                <div class="mb-3">
                    <label for="previewRendered" class="form-label">Rendered Preview:</label>
                    <div id="previewRendered" class="p-3 border rounded" style="min-height:120px;">
                        <div class="d-flex justify-content-center align-items-center h-100">
                            <div id="previewContent" style="width:100%;">
                                <div id="previewQuote" style="font-size:1.25rem;"></div>
                                <div id="previewByline" style="margin-top:0.75rem; opacity:0.9"></div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <div class="row">
            <div class="col-12 p-3">
                <!-- Generated -->
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <h1 class="display-6 mb-0">Generated Package</h1>
                    <div>
                        <input type="file" id="uploadPackageInput" accept=".json,.lua" style="display:none">
                        <button id="uploadPackageBtn" class="btn btn-secondary">Upload Existing Package</button>
                    </div>
                </div>
                <table class="table">
                    <thead>
                        <tr>
                            <th scope="col">Quote</th>
                            <th scope="col">By-Line</th>
                            <th scope="col">Font</th>
                            <th scope="col">Colour</th>
                            <th scope="col">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="packageTbody">

                    </tbody>
                </table>
                <div class="d-flex gap-2 mb-3">
                    <div class="btn-group">
                        <button type="button" class="btn btn-success" id="downloadPackageBtn">Download Package</button>
                        <button type="button" class="btn btn-success dropdown-toggle dropdown-toggle-split"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <span class="visually-hidden">Toggle Dropdown</span>
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#" id="downloadLua">Download quotes.lua</a></li>
                            <li><a class="dropdown-item" href="#" id="downloadIni">Download quotes.ini</a></li>
                        </ul>
                    </div>
                    <button id="clearPackage" class="btn btn-outline-danger" type="button">Clear Package</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Download Modal -->
    <div class="modal fade" id="downloadModal" tabindex="-1" aria-labelledby="downloadModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="downloadModalLabel">Download Complete</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Your Rainmeter Quote Skin package has been downloaded as <code>RainmeterQuoteSkin.zip</code>.</p>
                    <p><strong>If Windows Defender or your antivirus blocked the extraction:</strong></p>
                    <ol>
                        <li>Locate the downloaded ZIP file in your Downloads folder.</li>
                        <li>Right-click the file and select "Properties".</li>
                        <li>On the General tab, check the "Unblock" box at the bottom.</li>
                        <li>Click "Apply" then "OK".</li>
                        <li>Try extracting the ZIP file again.</li>
                        <br>
                        <li>Alternatively, extract the ZIP file manually using a third-party tool like 7-Zip or WinRAR.
                        </li>
                    </ol>
                    <p>After extraction, copy the folder containing <code>quotes.ini</code> and <code>quotes.lua</code>
                        to your Rainmeter Skins folder (or create a new folder for them).</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

    <script src="js/app.js"></script>
</body>

</html>